!function e(n,o,t){function i(r,c){if(!o[r]){if(!n[r]){var u="function"==typeof require&&require;if(!c&&u)return u(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+r+"'")}var s=o[r]={exports:{}};n[r][0].call(s.exports,function(e){var o=n[r][1][e];return i(o?o:e)},s,s.exports,e,n,o,t)}return o[r].exports}for(var a="function"==typeof require&&require,r=0;r<t.length;r++)i(t[r]);return i}({1:[function(e,n,o){var t=(e("../util/footer"),e("../util/cookie"),e("../util/config"),e("../util/modal")),i=window.$;(function(){var e=window.localStorage,n=i("#user-head").attr("src"),o=function(){a(e),r()},a=function(e){i("#user-head").attr("src",e.img),i("#J_username").val(e.name);var n="男"===e.sex?0:1;i("#J_sex").find("option").eq(n).attr("selected","selected"),i("#J_city").val(e.city),i("#J_score").val(e.score)},r=function(){i("#user-head").on("tap",function(){i("#upload-img").trigger("click")}),i("#upload-img").on("change",function(){n="/img/"+i(this).val().split("\\")[2],i("#user-head").attr("src",n)}),i("#J_confirm-change").on("tap",function(){var o=i("#J_username").val(),a=i("#J_sex").val(),r=i("#J_city").val(),c=i("#J_score").val();i.ajax({type:"post",url:"/user/changeInfo",data:{id:e.uid,img:n,name:o,city:r,sex:a},success:function(i){i.status&&(console.log("修改成功！"),t.confirm({content:"信息修改成功！"}),e.img=n,e.name=o,e.city=r,e.score=c)},fail:function(){console.log("修改失败！")}})})};o()})()},{"../util/config":2,"../util/cookie":3,"../util/footer":4,"../util/modal":5}],2:[function(e,n,o){var t={version:"1.0.0",author:"Jafeney",createDate:"2016-03-26"};n.exports=t},{}],3:[function(e,n,o){var t=function(){var e=function(e){var n,o=new RegExp("(^| )"+e.name+"=([^;]*)(;|$)");return(n=document.cookie.match(o))?unescape(n[2]):null},n=function(e){var n=e.name,o=e.value,t=e.expiresHours,i=n+"="+escape(o);if(t>0){var a=new Date;a.setTime(a.getTime()+3600*t*1e3),i=i+"; expires="+a.toGMTString()}document.cookie=i},o=function(e){var n=new Date,o=e.name;n.setTime(n.getTime()-1e4),document.cookie=o+"=v; expires="+n.toGMTString()};return{getCookie:e,addCookie:n,deleteCookie:o}}();n.exports=t},{}],4:[function(e,n,o){var t=window.$,i=function(){t("#J_footerBar li").on("tap",function(){if(t(this).hasClass("active"))return!1;var e=t(this).data("url");location.href=e})}();n.exports=i},{}],5:[function(e,n,o){var t=window.$,i={confirm:function(e){var n=e.title||"提示",o=e.content||"提示内容",i=e.callback,a=['<div class="mask" id="J_mask">','<div class="modal-box">',"<h2>",n,"</h2>","<p>",o,"</p>",'<div class="mask-btns">','<span id="J_cancel">取消</span>','<span id="J_confirm">确定</span>',"</div>","</div>","</div>"].join("");t("#J_mask").remove(),t("body").append(a),t("#J_cancel").on("tap",function(){t("#J_mask").remove()}),t("#J_confirm").on("tap",function(){"function"==typeof i&&i(),t("#J_mask").remove()})},bt3Confirm:function(e){var n=e.title||"提示",o=e.content||"提示内容",i=e.callback;t("#J_modal-title").html(n),t("#J_modal-content").html(o),t("#myModal").modal(),t("#J_confirm-sure").on("click",function(){"function"==typeof i&&i(),t("#myModal").modal("hide")})}};n.exports=i},{}]},{},[1]);